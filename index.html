<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description" content="LightsOut: Diffusion-based Outpainting for Enhanced Lens Flare Removal.">
  <meta name="keywords" content="LightsOut, Lens Flare Removal, Outpainting, Diffusion Model">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LightsOut</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">
  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <!-- <link rel="stylesheet" href="./static/css/bootstrap.min.css"> -->
  <!-- <link rel="stylesheet" href="./static/css/app.css"> -->
  <link rel="icon" href="./static/images/favicon_new.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.3/clipboard.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
  <script src="./static/js/video_comparison.js"></script>
  <script src="./static/js/app.js"></script>

  <style>
    :root {
      --bg-0: 12, 12, 16;
      --bg-1: 18, 18, 26;
      --txt: 235, 236, 242;
      --acc: 106, 209, 255;
      --grid: 255, 255, 255;
      --noise-opacity: 0.035;
    }

    body {
      margin: 0;
      color: rgb(var(--txt));
      background: radial-gradient(1200px 800px at 50% -10%, rgba(60, 60, 90, .25), rgba(0, 0, 0, 0)),
        linear-gradient(180deg, rgb(var(--bg-0)) 0%, rgb(var(--bg-1)) 100%);
      overflow-x: hidden;
    }

    .stars {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: .45;
      mix-blend-mode: screen;
      background:
        radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, .35), rgba(255, 255, 255, 0) 60%),
        radial-gradient(1px 1px at 70% 60%, rgba(255, 255, 255, .25), rgba(255, 255, 255, 0) 60%),
        radial-gradient(1.5px 1.5px at 40% 80%, rgba(255, 255, 255, .3), rgba(255, 255, 255, 0) 60%);
      animation: twinkle 6s ease-in-out infinite alternate;
      z-index: 0;
    }

    @keyframes twinkle {
      to {
        opacity: .75;
        filter: hue-rotate(10deg) brightness(1.15)
      }
    }

    .grid {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: .06;
      background-image:
        linear-gradient(to right, rgba(var(--grid), .18) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(var(--grid), .18) 1px, transparent 1px);
      background-size: 56px 56px;
      mask-image: radial-gradient(1000px 600px at 50% 30%, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));
      z-index: 0;
    }

    .noise {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: var(--noise-opacity);
      mix-blend-mode: overlay;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.7"/></svg>');
      z-index: 0;
    }

    .flare {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      mix-blend-mode: screen;
      background:
        radial-gradient(160px 160px at var(--x, 50%) var(--y, 40%), rgba(255, 255, 240, .18), rgba(255, 255, 240, 0) 60%),
        radial-gradient(600px 300px at calc(var(--x, 50%) + 10%) calc(var(--y, 40%) - 6%), rgba(106, 209, 255, .10), rgba(106, 209, 255, 0) 70%),
        radial-gradient(1000px 800px at 50% 10%, rgba(140, 120, 255, .08), rgba(0, 0, 0, 0) 70%);
      filter: saturate(120%) blur(.2px);
    }

    .streak {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      mix-blend-mode: screen;
      background:
        conic-gradient(from 0deg at var(--x, 50%) var(--y, 40%), rgba(255, 255, 255, .0), rgba(255, 255, 255, .25) 2deg, rgba(255, 255, 255, 0) 14deg) 0 0/100% 100% no-repeat;
      opacity: .6;
      filter: blur(8px) contrast(120%);
      mask-image: radial-gradient(800px 500px at var(--x, 50%) var(--y, 40%), rgba(0, 0, 0, 1), rgba(0, 0, 0, 0) 70%);
    }
  </style>
</head>

<body>
  <!-- Background Effects -->
  <div class="stars"></div>
  <div class="grid"></div>
  <div class="noise"></div>
  <div class="flare" aria-hidden="true"></div>
  <div class="streak" aria-hidden="true"></div>

  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div class="navbar-menu">
      <div class="navbar-start" style="flex-grow: 1; justify-content: center;">

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            More Research
          </a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://spf-web.pages.dev/">
              See, Point, Fly
            </a>
            <a class="navbar-item" href="https://linjohnss.github.io/longsplat/">
              LongSplat
            </a>
            <a class="navbar-item" href="https://hentci.github.io/stealthattack/">
              StealthAttack
            </a>
            <a class="navbar-item" href="https://su-terry.github.io/BoostMVSNeRFs/">
              BoostMVSNeRFs
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- project name , author .... -->
  <section class="hero">
    <section class="hero project-hero">
      <div class="hero-body">
        <div class="container is-max-desktop">
          <div class="columns is-centered">
            <div class="column has-text-centered">
              <h1 class="title is-1 publication-title neon-text">LightsOut <img src="static/images/favicon_new.svg"
                  alt="icon" style="height: 2.25em; "></h1>
              <h2 class="subtitle is-3 publication-subtitle highlight">Diffusion-based Outpainting for Enhanced Lens
                Flare
                Removal</h2>
              <h3 class="subtitle is-3 publication-subtitle highlight">ICCV 2025</h3>
              <div class="is-size-4 publication-authors">
                <span class="author-block">
                  <a href="https://ray-1026.github.io/">Shr-Ruei Tsai</a></span>
                <span class="author-block">
                  <a href="">Wei-Cheng Chang</a></span>
                <span class="author-block">
                  <a href="https://jayinnn.dev/">Jie-Ying Lee</a></span>
                <span class="author-block">
                  <a href="https://su-terry.github.io/">Chih-Hai Su</a></span>
                <span class="author-block">
                  <a href="https://yulunalexliu.github.io/">Yu-Lun Liu</a></span>
              </div>

              <div class="is-size-4 publication-authors">
                <span class="author-block">National Yang Ming Chiao Tung University</span>
              </div>

              <div class="column has-text-centered">
                <div class="publication-links">
                  <span class="link-block">
                    <a href="" class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="ai ai-arxiv"></i>
                      </span>
                      <span>arXiv (coming soon)</span>
                    </a>
                  </span>
                  <span class="link-block">
                    <a href="https://github.com/Ray-1026/LightsOut-official"
                      class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="fab fa-github"></i>
                      </span>
                      <span>Code (coming soon)</span>
                    </a>
                  </span>
                  <span class="link-block">
                    <a href="" class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <img src="https://huggingface.co/front/assets/huggingface_logo-noborder.svg" width="20"
                          height="20" alt="HF">
                      </span>
                      <span>Hugging Face demo (coming soon)</span>
                    </a>
                  </span>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <!-- teaser video -->
    <section class="hero teaser">
      <div class="container is-max-desktop">
        <div class="hero-body">
          <div class="pipeline-figure">
            <video autoplay loop muted playsinline
              style="width: 80%; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); display: block; margin: 0 auto;">
              <source src="./static/images/LightsOut.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      </div>
    </section>

    <!-- teaser . -->
    <!-- <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        <div class="pipeline-figure">
          <img src="./static/images/teaser.png" alt="Teaser" style="width: 100%;;" />
        </div>
      </div>
    </div>
  </section> -->

    <!-- Video. -->
    <!-- <section class="section"> -->
    <!-- <div class="container is-max-desktop"> -->
    <!-- Video. -->
    <!-- <div class="columns is-centered has-text-centered"> -->
    <!-- <div class="column is-full-width"> -->
    <!-- <h2 class="title is-2">Video</h2> -->
    <!-- <div class="video-container" -->
    <!-- style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; border-radius: 12px;"> -->
    <!-- <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 12px;" src="" -->
    <!-- frameborder="0" -->
    <!-- allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" -->
    <!-- allowfullscreen></iframe> -->
    <!-- </div> -->
    <!-- </div> -->
    <!-- </div> -->
    <!-- </div> -->
    <!-- </section> -->

    <!-- Abstract. -->
    <section class="section">
      <div class="container is-max-desktop">

        <div class="columns is-centered has-text-centered">
          <div class="column is-full-width">
            <h2 class="title is-2">Abstract</h2>
            <div class="content has-text-justified">
              <p>
                Lens flare significantly degrades image quality, impacting critical computer vision tasks like object
                detection and autonomous driving. Recent Single Image Flare Removal (SIFR) methods perform poorly when
                off-frame light sources are incomplete or absent. We propose LightsOut, a diffusion-based outpainting
                framework tailored to enhance SIFR by reconstructing off-frame light sources. Our method leverages a
                multitask regression module and LoRA fine-tuned diffusion model to ensure realistic and physically
                consistent outpainting results. Comprehensive experiments demonstrate LightsOut consistently boosts the
                performance of existing SIFR methods across challenging scenarios without additional retraining, serving
                as a universally applicable plug-and-play preprocessing solution.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>



    <section class="section">
      <!-- Pipeline Fig. -->
      <div class="container is-max-desktop">
        <div class="columns is-centered has-text-centered">
          <div class="column is-full-width">
            <h2 class="title is-2">Pipeline</h2>
            <div class="pipeline-figure">
              <img src="./static/images/pipeline.png" alt="Pipeline" style="width: 100%;" />
            </div>
            <div class="content has-text-justified">
              <p>
                (a) <span class="highlight">Light source prediction and conditioning</span>: We introduce a multitask
                regression module
                to accurately predict off-frame or incomplete light source parameters (positions, radii, and
                confidences).
                These predicted parameters guide a rendering function to generate the corresponding light source mask.
                (b)
                <span class="highlight">Light source outpainting</span>: Leveraging a LoRA fine-tuned diffusion-based
                inpainting model with light source conditioning, our approach accurately outpaints both missing
                off-frame
                light sources and associated flare artifacts, producing visually coherent and realistic results. (c)
                <span class="highlight">SIFR boosting</span>: Our generated outpainted images serve as enhanced inputs
                to
                existing SIFR methods, significantly improving their performance on previously challenging scenarios
                with
                incomplete light source information. The proposed pipeline thus effectively operates as a plug-and-play
                module to boost existing flare removal models.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>




    <section class="section">
      <div class="container is-max-desktop">
        <!-- Animation. -->
        <div class="columns is-centered has-text-centered">
          <div class="column is-full-width">
            <h2 class="title is-2">Visualization Results</h2>

            <!-- Method Selection Pills -->
            <div class="text-center">
              <ul class="nav nav-pills center-pills">
                <li class="method-pill active" data-value="zhou" onclick="selectComparisonMethod(this)"><a>Zhou, et
                    al</a>
                </li>
                <li class="method-pill" data-value="flare7k" onclick="selectComparisonMethod(this)"><a>Flare7K++</a>
                </li>
                <li class="method-pill" data-value="mfdnet" onclick="selectComparisonMethod(this)"><a>MFDNet</a></li>
              </ul>
            </div>

            <!-- Image Grid with Hover Swap -->
            <div class="comparison-grid" style="margin: 2rem 0;">
              <div class="columns is-centered">
                <div class="column is-4">
                  <div class="slider-compare" id="slider-compare-1"></div>
                </div>
                <div class="column is-4">
                  <div class="slider-compare" id="slider-compare-2"></div>
                </div>
                <div class="column is-4">
                  <div class="slider-compare" id="slider-compare-3"></div>
                </div>
              </div>
              <div class="columns is-centered">
                <div class="column is-4">
                  <div class="slider-compare" id="slider-compare-4"></div>
                </div>
                <div class="column is-4">
                  <div class="slider-compare" id="slider-compare-5"></div>
                </div>
                <div class="column is-4">
                  <div class="slider-compare" id="slider-compare-6"></div>
                </div>
              </div>
            </div>

            <script>
              // method: zhou, flare7k, mfdnet
              const methodFiles = {
                zhou: [
                  'res_000000.png', 'res_000002.png', 'res_000004.png', 'res_000009.png', 'res_000037.png', 'res_000096.png'
                ],
                flare7k: [
                  'res_000008.png', 'res_000010.png', 'res_000014.png', 'res_000032.png', 'res_000033.png', 'res_000036.png'
                ],
                mfdnet: [
                  'res_000018.png', 'res_000034.png', 'res_000050.png', 'res_000052.png', 'res_000074.png', 'res_000095.png'
                ]
              };
              const inputFiles = [
                'output_000000.png', 'output_000002.png', 'output_000004.png', 'output_000009.png', 'output_000037.png', 'output_000096.png',
                'output_000008.png', 'output_000010.png', 'output_000014.png', 'output_000032.png', 'output_000033.png', 'output_000036.png',
                'output_000018.png', 'output_000034.png', 'output_000050.png', 'output_000052.png', 'output_000074.png', 'output_000095.png'
              ];

              // --- (Optimized) Slider ---
              function createSliderCompare(container, beforeSrc, afterSrc, idx) {
                container.innerHTML = '';

                const sliderContainer = document.createElement('div');
                sliderContainer.className = 'slider-container';

                // 
                const beforeImg = document.createElement('img');
                beforeImg.src = beforeSrc;
                beforeImg.alt = 'Before';
                beforeImg.loading = 'lazy';
                beforeImg.draggable = false;
                sliderContainer.appendChild(beforeImg);

                // 
                const afterImg = document.createElement('img');
                afterImg.src = afterSrc;
                afterImg.alt = 'After';
                afterImg.loading = 'lazy';
                afterImg.style.clipPath = 'inset(0 0 0 50%)';
                afterImg.draggable = false;
                sliderContainer.appendChild(afterImg);

                // Slider bar
                const bar = document.createElement('div');
                bar.className = 'slider-bar';
                sliderContainer.appendChild(bar);

                // Slider handle
                const handle = document.createElement('div');
                handle.className = 'slider-handle';
                sliderContainer.appendChild(handle);

                container.appendChild(sliderContainer);

                let isDragging = false;

                function updateSlider(position) {
                  const pct = Math.max(0, Math.min(1, position)) * 100 + '%';
                  afterImg.style.clipPath = `inset(0 0 0 ${pct})`;
                  bar.style.left = pct;
                  handle.style.left = pct;
                }

                function startDrag(e) {
                  e.preventDefault();
                  isDragging = true;
                  sliderContainer.style.cursor = 'grabbing';
                  document.addEventListener('mousemove', onDrag);
                  document.addEventListener('mouseup', stopDrag);
                  document.addEventListener('touchmove', onDrag);
                  document.addEventListener('touchend', stopDrag);
                }

                function onDrag(e) {
                  if (!isDragging) return;
                  const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                  const rect = sliderContainer.getBoundingClientRect();
                  updateSlider((clientX - rect.left) / rect.width);
                }

                function stopDrag() {
                  isDragging = false;
                  sliderContainer.style.cursor = 'grab';
                  document.removeEventListener('mousemove', onDrag);
                  document.removeEventListener('mouseup', stopDrag);
                  document.removeEventListener('touchmove', onDrag);
                  document.removeEventListener('touchend', stopDrag);
                }
                bar.addEventListener('mousedown', startDrag);
                bar.addEventListener('touchstart', startDrag);
                handle.addEventListener('mousedown', startDrag);
                handle.addEventListener('touchstart', startDrag);
                sliderContainer.addEventListener('mousedown', startDrag);
                sliderContainer.addEventListener('touchstart', startDrag);

                window.addEventListener('load', () => updateSlider(0.5));
              }

              window.selectComparisonMethod = function (el) {
                document.querySelectorAll('.method-pill').forEach(pill => pill.classList.remove('active'));
                el.classList.add('active');
                const method = el.getAttribute('data-value');
                const files = methodFiles[method];
                for (let i = 0; i < 6; i++) {
                  const slider = document.getElementById('slider-compare-' + (i + 1));
                  let inputIdx = inputFiles.indexOf('output_' + files[i].replace('res_', ''));
                  if (inputIdx === -1) inputIdx = 0;
                  const beforeSrc = `static/images/flare_remove/input/${inputFiles[inputIdx]}`;
                  const afterSrc = `static/images/flare_remove/${method}/${files[i]}`;
                  createSliderCompare(slider, beforeSrc, afterSrc, i);
                }
              };

              document.addEventListener('DOMContentLoaded', function () {
                selectComparisonMethod(document.querySelector('.method-pill.active'));
              });
            </script>

            <!-- <p class="hover-instruction">Hover over any image to see the comparison results</p> -->
          </div>
        </div>
        <!--/ Animation. -->

        <!-- <div class="columns is-centered"> -->
        <!-- <div class="column is-full-width"> -->
        <!-- <p class="text-justify" style="text-align: center;"> -->
        <!-- Compare our LightsOut method with different baseline approaches. Select a method above and hover over the -->
        <!-- image to see the before/after comparison. -->
        <!-- </p> -->
        <!-- </div> -->
        <!-- </div> -->

        <!-- Quantitative Results. -->
        <!-- <div class="columns is-centered has-text-centered"> -->
        <!-- <div class="column is-full-width"> -->
        <!-- <h2 class="title is-2">Quantitative Results</h2> -->
        <!-- <p class="content has-text-justified"> -->

        <!-- </p> -->
        <!-- <img src="./static/images/quantitative.png" alt="Quantitative" style="width: 100%;" /> -->

        <!-- </div> -->
        <!-- </div> -->
        <!-- Quantitative Results -->

        <!-- Poster -->
        <!-- <div class="columns is-centered"> -->
        <!-- <div class="column is-full-width"> -->
        <!-- <h2 class="title is-2">Poster</h2> -->
        <!-- <embed src="./static/images/AuraPoster.pdf" type="application/pdf" width="100%" height="600px" /> -->
        <!-- </div> -->
        <!-- </div> -->
        <!-- Poster -->

        <!-- Outpainting Result -->
        <div class="columns is-centered has-text-centered">
          <div class="column is-full-width">
            <h2 class="title is-2">Outpainting Result</h2>
            <div class="comparison-grid outpainting-section" style="margin: 2rem 0;">
              <div class="columns is-centered">
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000007_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000007_2.png" alt="Outpainting 1"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000026_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000026_2.png" alt="Outpainting 2"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000044_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000044_2.png" alt="Outpainting 3"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000053_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000053_2.png" alt="Outpainting 4"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
              </div>
              <div class="columns is-centered">
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000056_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000056_2.png" alt="Outpainting 5"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000066_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000066_2.png" alt="Outpainting 6"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000070_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000070_2.png" alt="Outpainting 7"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
                <div class="column is-3">
                  <div class="hover-swap-container">
                    <img src="./static/images/outpaintresult/input/output_000083_1.png"
                      data-hover="./static/images/outpaintresult/result/blend_000083_2.png" alt="Outpainting 8"
                      class="hover-swap-image" loading="lazy" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 為 Outpainting Result 區域添加 hover 事件處理 -->
        <script>
          document.addEventListener('DOMContentLoaded', function () {
            const outpaintingImages = document.querySelectorAll('.outpainting-section .hover-swap-image');
            const section = document.querySelector('.outpainting-section');

            // Preload hover images and store original sources
            outpaintingImages.forEach(img => {
              // Store original source if not already stored
              if (!img.dataset.originalSrc) {
                img.dataset.originalSrc = img.src;
              }
              // Preload the hover image
              const hoverSrc = img.dataset.hover;
              if (hoverSrc) {
                const preloadLink = document.createElement('link');
                preloadLink.rel = 'preload';
                preloadLink.as = 'image';
                preloadLink.href = hoverSrc;
                document.head.appendChild(preloadLink);
              }
            });

            const swapImages = (isHovering) => {
              outpaintingImages.forEach(img => {
                const targetSrc = isHovering ? img.dataset.hover : img.dataset.originalSrc;
                if (targetSrc) img.src = targetSrc;
              });
            };

            section.addEventListener('mouseenter', () => swapImages(true));
            section.addEventListener('mouseleave', () => swapImages(false));
          });
        </script>

        <!-- Citation -->
        <div class="columns is-centered">
          <div class="column is-full-width">
            <h2 class="title is-2">BibTeX</h2>
            <div class="content has-text-justified">
              <pre style="
        background: rgba(20,20,30,0.8);
        color: #fff; 
        padding: 16px; 
        border-radius: 8px; 
        line-height: 1.5; 
        overflow-x: auto;
      "><code>@InProceedings{tsai2025lightsout,
  title     = {LightsOut: Diffusion-based Outpainting for Enhanced Lens Flare Removal},
  author    = {Tsai, Shr-Ruei and Chang, Wei-Cheng and Lee, Jie-Ying and Su, Chih-Hai and Liu, Yu-Lun},
  booktitle = {Proceedings of the IEEE/CVF International Conference on Computer Vision},
  year      = {2025}
}</code></pre>
            </div>
          </div>
        </div>

        <!-- Acknowledgements -->
        <div class="columns is-centered">
          <div class="column is-full-width">
            <h2 class="title is-2">Acknowledgements</h2>
            <div class="content has-text-justified">
              <p>
                This research was funded by the National Science and Technology Council, Taiwan, under Grants NSTC
                112-2222-E-A49-004-MY2 and 113-2628-E-A49-023-. The authors are grateful to Google, NVIDIA, and MediaTek
                Inc. for their generous donations. Yu-Lun Liu acknowledges the Yushan Young Fellow Program by the MOE in
                Taiwan.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="container">
        <div class="content has-text-centered">
          <a class="icon-link" href="">
            <i class="fas fa-file-pdf"></i>
          </a>
          <a class="icon-link" href="https://github.com/Ray-1026/LightsOut-official" class="external-link" disabled>
            <i class="fab fa-github"></i>
          </a>
        </div>
        <div class="columns is-centered">
          <div class="column is-8">
            <div class="content">
              <p>
                Website template borrowed from <a href="https://kkennethwu.github.io/aurafusion360/">AuraFusion360</a>,
                <a href="https://nerfies.github.io/">NeRFies</a>, <a
                  href="https://dorverbin.github.io/refnerf">Ref-NeRF</a>, <a
                  href="https://reconfusion.github.io/">ReconFusion</a> and <a
                  href="https://nesf3d.github.io/">NeSF</a>.
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>


    <!-- Scripts -->
    <script>
      function setPos(x, y) {
        document.documentElement.style.setProperty('--x', x + 'px');
        document.documentElement.style.setProperty('--y', y + 'px');
      }
      function updateFromEvent(e) {
        let x, y;
        if (e.touches && e.touches[0]) {
          x = e.touches[0].clientX; y = e.touches[0].clientY;
        } else { x = e.clientX; y = e.clientY; }
        setPos(x, y);
      }
      setPos(window.innerWidth * 0.5, window.innerHeight * 0.35);
      window.addEventListener('mousemove', updateFromEvent, { passive: true });
      window.addEventListener('touchmove', updateFromEvent, { passive: true });
    </script>
</body>

</html>
